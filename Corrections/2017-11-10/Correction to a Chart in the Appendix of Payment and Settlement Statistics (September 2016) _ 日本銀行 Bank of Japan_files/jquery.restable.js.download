!function(t,e,n){"use strict";t.fn.ReStable=function(i){function a(e,n){var i,a=[],l={},s=t(e).find("tr").first().children("td,th"),c=0;return h.rowHeaders&&(s=s.slice(1)),s.each(function(){a.push(t(this).text())}),t(e).find("tr").slice(1).each(function(){var e=t(this);c+=1,t.each(a,function(t,n){t+=1,h.rowHeaders?(l[n]||(l[n]={}),h.keepHtml?l[n][e.children("td:nth-child(1)").html()]=e.children("td:nth-child("+(t+1)+")").html():l[n][e.children("td:nth-child(1)").text()]=e.children("td:nth-child("+(t+1)+")").text()):(l[c]||(l[c]={}),h.keepHtml?l[c][n]=e.children("td:nth-child("+t+")").html():l[c][n]=e.children("td:nth-child("+t+")").text())})}),i=t("<ul/>",{"class":"tabletolist "+(h.rowHeaders?"rh":"nrh"),id:"tabletolist"+n}).insertBefore(t(e)),t.each(l,function(e,n){var a=t("<li/>",{html:h.rowHeaders?'<span class="titles">'+e+"</span>":""}).appendTo(i),l=t("<ul/>").appendTo(a);t.each(n,function(e,n){t("<li/>",{"class":"cf",html:'<span class="row_headers">'+e+'</span> <span class="row_data '+(h.keepHtml?"html":"")+'">'+n+"</span>"}).appendTo(l)})}),t("キャプション").insertBefore(t(e)),i}var h=t.extend({rowHeaders:!0,maxWidth:480,keepHtml:!1},i),l=0,s=t(".js-tbl").length;this.each(function(){function i(){if(t(e).width()>parseInt(h.maxWidth,10))t(".caption").hide(),t(r).show(),c&&t(c).hide();else{if(s>l){var i="";i=t(r).find("caption").html();var d=t(r).find("caption").attr("class");i="<p class='caption "+d+"'>"+i+"</p>",t(r).before(i),l+=1}else t(".caption").show();t(r).hide(),c?t(c).show():c=a(r,n)}}var c,r=t(this);n+=1,i(),t(e).resize(function(){i()})})},t.ReStable=function(e){t("table").ReStable(e)}}(jQuery,this,0);